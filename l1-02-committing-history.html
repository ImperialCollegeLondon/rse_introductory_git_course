<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Introduction to using Git and GitHub for software development: Committing and History</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/rcs/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/rcs/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/rcs/favicon-16x16.png"><link rel="manifest" href="favicons/rcs/site.webmanifest"><link rel="mask-icon" href="favicons/rcs/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav rcs"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="rcs-logo" alt="Lesson Description" src="assets/images/rcs-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>


      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/l1-02-committing-history.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav rcs" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/rcs-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Introduction to using Git and GitHub for software development
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Introduction to using Git and GitHub for software development
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to using Git and GitHub for software development
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 8%" class="percentage">
    8%
  </div>
  <div class="progress rcs">
    <div class="progress-bar rcs" role="progressbar" style="width: 8%" aria-valuenow="8" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/l1-02-committing-history.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-course-overview.html">1. Course overview</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="l1-01-why-use-vcs.html">2. Why use a Version Control System?</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        3. Committing and History
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#first-things-first">First Things First</a></li>
<li><a href="#creating-a-repository">Creating a Repository</a></li>
<li><a href="#creating-the-first-snapshot">Creating The First Snapshot</a></li>
<li><a href="#staging-and-committing">Staging and Committing</a></li>
<li><a href="#git-history-and-log">Git History and Log</a></li>
<li><a href="#to-err-is-human-to-revert-divine">To Err is Human, To Revert Divine</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="l1-03-break.html">4. Break</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="l2-01-sharing_your_code.html">5. Sharing your code</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="l2-02-remote_repositories.html">6. Remote repositories</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="l2-03-break.html">7. Break</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="l3-01-issues.html">8. Using GitHub Issues</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="l3-02-guis-ides.html">9. Using GUIs and IDEs</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="l1-01-why-use-vcs.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="l1-03-break.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="l1-01-why-use-vcs.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Why use a Version
        </a>
        <a class="chapter-link float-end" href="l1-03-break.html" rel="next">
          Next: Break...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Committing and History</h1>
        <p>Last updated on 2026-02-13 |

        <a href="https://github.com/ImperialCollegeLondon/rse_introductory_git_course/edit/main/episodes/l1-02-committing-history.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I start a project using Git?</li>
<li>How do I record changes made in a project?</li>
<li>How do I view the history of a project?</li>
<li>How can I correct mistakes I make with Git?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Explain how and why Git must be configured</li>
<li>Explain what a repository is</li>
<li>List the commands used to create a Git commit</li>
<li>Describe the difference between the working directory, staging area
and index</li>
<li>Use a commit history to find information about a repository</li>
<li>List the commands that can be used to undo previous commits</li>
<li>Explain potential issues with rewriting the commit history</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="first-things-first">First Things First<a class="anchor" aria-label="anchor" href="#first-things-first"></a></h2>
<hr class="half-width"><p>You should have already completed the <!-- markdownlint-disable -->
[setup instructions][lesson-setup] <!-- markdownlint-restore --> for
this workshop and have Git installed. Launch a command line environment
(on Windows launch “Git Bash” from the Start menu; on Linux or macOS
start a new Terminal). We will use this command line interface
throughout these materials. We focus on teaching Git with the command
line as we believe this is the most thorough and portable way to
communicate the underlying concepts.</p>
<p>You can use the command line to interact with Git but there is still
some extra information you must provide before it is ready to use. Enter
the following commands, using your relevant personal information as
required.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.name <span class="st">"FIRST_NAME LAST_NAME"</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.email <span class="st">"email@example.com"</span></span></code></pre>
</div>
<p>The information provided here will be included with every snapshot
you record with Git. In collaborative projects this is used to
distinguish who has made what changes. The <code>--global</code> part of
the command sets this information for any projects on which you might
work on this computer. Therefore you only need to perform the above
commands once for each new computer Git is installed on.</p>
<div id="the-command-line-interface" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="the-command-line-interface" class="callout-inner">
<h3 class="callout-title">The Command Line Interface</h3>
<div class="callout-content">
<p>For users not generally familiar with using command line interfaces
it’s worth taking a moment to consider the commands that were just run.
To understand what we just did let’s break down the first command:</p>
<ul><li>
<p><code>git</code></p>
<ul><li>This simply indicates to the command line that we want to something
with Git.</li>
<li>All commands that we use today will start with this.</li>
</ul></li>
<li>
<p><code>config</code></p>
<ul><li>Git is a very powerful tool with lots of functionality so next we
need to indicate what we want to do with it.</li>
<li>Putting <code>config</code> indicates we want to change something
about how Git is configured.</li>
</ul></li>
<li>
<p><code>--global</code></p>
<ul><li>Parts that start with dashes are called flags and are used to fine
tune the behaviour of the command given.</li>
<li>The role of the <code>--global</code> flag is explained above.</li>
</ul></li>
<li>
<p><code>user.name "FIRST_NAME LAST_NAME"</code></p>
<ul><li>Finally we tell Git what we want to configure and the details to
use.</li>
</ul></li>
</ul></div>
</div>
</div>
</section><section><h2 class="section-heading" id="creating-a-repository">Creating a Repository<a class="anchor" aria-label="anchor" href="#creating-a-repository"></a></h2>
<hr class="half-width"><div id="warning-for-linux-and-macos-users" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="warning-for-linux-and-macos-users" class="callout-inner">
<h3 class="callout-title">Warning for Linux and macOS users</h3>
<div class="callout-content">
<p>Before you move onto this exercise, you should run the following
command:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> core.autocrlf input</span></code></pre>
</div>
<p>This will stop git recording changes to line endings, which can –
depending on which text editor you’re using – result in git erroneously
thinking every line in a file has changed.</p>
<p>For a longer explanation of why this may be needed, see <a href="https://docs.github.com/en/get-started/getting-started-with-git/configuring-git-to-handle-line-endings" class="external-link">GitHub’s
comprehensive explanation here</a>.</p>
</div>
</div>
</div>
<p>Now that Git is ready to use let’s see how to start using it with a
new project. In Git terminology a project is called a repository
(frequently shortened to “repo”).</p>
<p>For this workshop you were provided with a <a href="code/recipe.zip">zip file</a>. If you have not already done so,
please download it and <strong>place it in your home directory</strong>.
The zip file contains a directory called <code>recipe</code> which in
turn contains 2 files - <code>instructions.md</code> and
<code>ingredients.md</code>. This is the project we’ll be working with;
whilst not based on code this recipe for guacamole is an intuitive
example to illustrate the functionality of Git. To extract the archive
run the following command:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">unzip</span> recipe.zip</span></code></pre>
</div>
<p>Then change the working directory of the terminal the newly created
<code>recipe</code> directory:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="bu">cd</span> recipe</span></code></pre>
</div>
<p>You’ll need to repeat <code>cd recipe</code> if you open a new
command line interface. Feel free to open <code>ingredients.md</code>
and <code>instructions.md</code> and take a look at them (use a normal
file browser if you’re not comfortable doing this on the command line).
Files with a <code>.md</code> extension are using a format called
Markdown, don’t worry about this now, for our immediate purposes these
are just text files. Use of Markdown and GitHub will come up in the next
session however.</p>
<p>To start using Git with our recipe we need to create a repository for
it. Make sure the current working directory for your terminal is
<code>recipe</code> and run:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">git</span> init</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Initialized empty Git repository in /home/username/recipe/.git/</code></pre>
</div>
<p>The path you see in the output will vary depending on your operating
system.</p>
<div id="master-and-main-branches" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="master-and-main-branches" class="callout-inner">
<h3 class="callout-title">
<code>master</code> and <code>main</code>
branches</h3>
<div class="callout-content">
<p>A branch is a specific version of the state and history of the work
in the repo. Traditionally, the default branch name whenever you
<code>init</code> a repository was <code>master</code>. However, the
awareness of the online community has improved lately and some tools,
like GitHub, use now <code>main</code> as the default name instead. You
can read the rationale in <a href="https://www.theserverside.com/feature/Why-GitHub-renamed-its-master-branch-to-main" class="external-link">this
link</a>.</p>
<p>If you are using <code>git</code> version 2.28 or higher (you can
find the version you are using with <code>git --version</code>) you can
change the default branch name for all new repositories with:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> init.defaultBranch main</span></code></pre>
</div>
<p>For existing repositories or if your git version is lower than 2.28,
you can create the <code>master</code> branch normally and then re-name
it with:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">git</span> branch <span class="at">-m</span> master main</span></code></pre>
</div>
<p>Depending on your exact version of git, you might get an error like
the following when trying to rename the branch:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>error:: refname refs/heads/master not found
fatal: Branch rename failed</code></pre>
</div>
<p>If that is your case, make sure there are not uncommitted files in
the repository, and that you have made at least one commit (see below
for more information about commits). Ultimately, you can simply create a
separate branch called <code>main</code> and use that one as your
default branch rather than <code>master</code>, which you can then
delete.</p>
<p>We will use <code>main</code> as the default branch name throughout
the workshop. Branches will be covered in detail in <a href="https://imperialcollegelondon.github.io/rse_further_git_course/" class="external-link">our
intermediate Git course</a>.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="creating-the-first-snapshot">Creating The First Snapshot<a class="anchor" aria-label="anchor" href="#creating-the-first-snapshot"></a></h2>
<hr class="half-width"><p>Before we do anything else run the following:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main

No commits yet

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        ingredients.md
        instructions.md

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
<p>This is a very useful command that we will use a lot. It should be
your first port of call to figure out the current state of a repository
and often suggests commands that can be used for different tasks.</p>
<p>Don’t worry about all the output for now, the important bit is that
the two files we already have are untracked in the repository
(directory). Git does not track any files automatically so we need to do
this explicitly. To do this, we first add the files to Git’s staging
area, like so:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">git</span> stage ingredients.md</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">git</span> stage instructions.md</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main

No commits yet

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

        new file:   ingredients.md
        new file:   instructions.md</code></pre>
</div>
<p>Now this change is <strong><em>staged</em></strong> and ready to be
committed (note that we could have saved some typing here with the
command <code>git stage ingredients.md instructions.md</code>).</p>
<div id="git-stage-vs-git-add" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="git-stage-vs-git-add" class="callout-inner">
<h3 class="callout-title">
<code>git stage</code> vs
<code>git add</code>
</h3>
<div class="callout-content">
<p>Note that you will sometimes see the <code>git stage</code> command
written as <code>git add</code> (e.g. in the command output above).
These commands are completely equivalent, but in this course we will use
<code>git stage</code> throughout for consistency.</p>
</div>
</div>
</div>
<p>Let us now commit the change to the repository, with a brief but
informative description of the change:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"adding ingredients and instructions"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main (root-commit) aa243ea] adding ingredients and instructions
 2 files changed, 8 insertions(+)
 create mode 100644 ingredients.md
 create mode 100644 instructions.md</code></pre>
</div>
<p>We have now finished creating the first snapshot in the repository.
Named after the command we just used, a snapshot is usually referred to
in Git as a <strong>commit</strong>, or sometimes a
<strong>changeset</strong>. We will use the term “commit” from now on.
Straight away query the status to get this useful command into our
muscle memory:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
<p>The output we get now is very minimal. This highlights an important
point about the status command - its purpose is to report on changes in
the repository <strong>relative to the last commit</strong>. In order to
see the commits made in a project we can use:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">git</span> log</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit b7cd5f6ff57968a7782ff8e74cc9921cc7463c30 (HEAD -&gt; main)
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Mon Dec 30 12:51:04 2019 +0000

    adding ingredients and instructions</code></pre>
</div>
<p>We’ll talk in more detail about the output here but for now the main
point is to recognise that a commit has been created with your personal
information and the message you specified.</p>
</section><section><h2 class="section-heading" id="staging-and-committing">Staging and Committing<a class="anchor" aria-label="anchor" href="#staging-and-committing"></a></h2>
<hr class="half-width"><p>For our first commit we saw that this is a two step process - first
we use <code>git stage</code> then <code>git commit</code>. This is an
important pattern used by Git. To understand this in more detail it’s
useful to know that git has three ‘areas’.</p>
<ul><li>The Working Directory (or Working Tree)
<ul><li>This is the copy of the files that you actually work with in a
normal way.</li>
</ul></li>
<li>The Staging Area (or index)
<ul><li>When you run <code>git stage</code> a copy of a file is taken from
the working tree and placed here.</li>
<li>New (untracked) files must be added to the staging area before git
will track them.</li>
<li>If a tracked file has been changed it must be added to staging area
for that change to be included in a commit.</li>
<li>This is known as <strong>staging files</strong> or <strong>adding
them to the staging area</strong>.</li>
<li>Only files in the staging area are included in a commit.</li>
</ul></li>
<li>The Repository
<ul><li>When you run <code>git commit</code> a new commit is created in the
repository.</li>
<li>All files in the staging area are moved to the repository as part of
the new commit.</li>
</ul></li>
</ul><p>The relationship between the commands we’ve seen so far and the
different areas of Git are show below: <img src="%7B%7B%20site.baseurl%20%7D%7D/fig/git_areas.png" title="How git commands relate to different git areas" alt="How git commands relate to different git areas" class="figure">{:class=“img-responsive”}</p>
<div id="exercise-create-some-more-commits" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="exercise-create-some-more-commits" class="callout-inner">
<h3 class="callout-title">Exercise: Create some more commits</h3>
<div class="callout-content">
<p>Add “1/2 onion” to <code>ingredients.md</code> and also the
instruction “enjoy!” to <code>instructions.md</code>. Do not stage the
changes yet.</p>
<p>When you are done editing the files, try:</p>
<pre class="shell"><code>git diff</code></pre>
<p>There’s a lot of information here so take some time to understand the
output. If your output doesn’t contain colours you may want to run
<code>git diff --color</code>.</p>
<p>First, practice what we have just seen by <strong>staging and
committing</strong> the changes to <code>instructions.md</code>.
Remember to include an informative commit message.</p>
<p>Now, run <code>git status</code> and <code>git diff</code>. Then,
<strong>stage and commit</strong> the changes to
<code>ingredients.md</code> but, after each step run
<code>git status</code>, <code>git diff</code> and
<code>git diff --staged</code>. What is the difference between the two
diff commands? How does running staging and committing change the status
of a file?</p>
</div>
</div>
</div>
<div id="why-stage" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="why-stage" class="callout-inner">
<h3 class="callout-title">Why stage?</h3>
<div class="callout-content">
<p>The last exercise highlights the reason Git uses a staging area
before making commits. You can make file changes as you want all at once
and then group them together logically to make individual commits. We’ll
see why having only sets of related changes for a specific purpose in a
single commit is so useful later on.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="git-history-and-log">Git History and Log<a class="anchor" aria-label="anchor" href="#git-history-and-log"></a></h2>
<hr class="half-width"><p>We used <code>git log</code> previously to see the first commit we
created. Let’s run it again now.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="fu">git</span> log</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit b6ff1ca61f08241ec741f6fc58ab2a443a253d89 (HEAD -&gt; main)
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Tue Dec 31 12:32:04 2019 +0000

    Added 1/2 onion to ingredients

commit 2bf7ece2f57594873678f9c17832010730970b28
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Tue Dec 31 12:28:19 2019 +0000

    Added instruction to enjoy

commit ae3255af37e82a98c57f16a057acd1ad5a15ff28
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Tue Dec 31 12:27:14 2019 +0000

    Adding ingredients and instructions</code></pre>
</div>
<p>Your output will differ from the above not only in the date and
author fields but in the alphanumeric sequence (hash) at the start of
each commit.</p>
<ul><li>We can browse the development and access each state that we have
committed.</li>
<li>The long hashes following the word commit are random and uniquely
label a state of the code.</li>
<li>Hashes are used when comparing versions and going back in time.</li>
<li>If the first characters of the hash are unique it is not necessary
to type the entire hash.</li>
<li>Output is in reverse chronological order, i.e. newest commits on
top.</li>
<li>Notice the label HEAD at the top, this indicates the commit that the
current working directory is based on.</li>
</ul><div id="what-is-a-commit-hash" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="what-is-a-commit-hash" class="callout-inner">
<h3 class="callout-title">What is a commit hash?</h3>
<div class="callout-content">
<p>A commit hash is a string that uniquely identifies a specific commit.
They are the really long list of numbers and letters that you can see in
the output above after the word <code>commit</code>. For example,
<code>ae3255af37e82a98c57f16a057acd1ad5a15ff28</code> for the last
entry.</p>
<p>Occasionally, you will need to refer to a specific commit using the
hash. Normally, you can use just the first 5 or 6 elements of the hash
(eg. for the hash above it will be enough to use <code>ae3255a</code>)
as it is very unlikely that there will be two commit hashes with
identical starting elements.</p>
<p>Throughout this course, we will indicate that you need to use the
hash with <code>[commit-hash]</code>. On those occasions, replace the
whole string (including the square brackets!) with the hash id. For
example, if you need to use <code>git show</code> (see example below)
with the above commit hash, you will run:</p>
<pre class="shell"><code>git show ae3255a</code></pre>
</div>
</div>
</div>
<div id="exercise-recalling-the-changes-for-a-commit" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<span class="callout-header">Discussion</span>
<div id="exercise-recalling-the-changes-for-a-commit" class="callout-inner">
<h3 class="callout-title">Exercise: Recalling the changes for a
commit</h3>
<div class="callout-content">
<p>The command <code>git log</code> shows us the metadata for a commit
but to see the file changes recorded in a commit you can use
<code>git show</code>:</p>
<pre class="shell"><code>git show [commit-hash]</code></pre>
<p>Use one of the commit hashes from your Git history. To see the
contents of a particular file from when the commit was made, try:</p>
<pre class="shell"><code>git show [commit-hash]:ingredients.md</code></pre>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="to-err-is-human-to-revert-divine">To Err is Human, To Revert Divine<a class="anchor" aria-label="anchor" href="#to-err-is-human-to-revert-divine"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="rewriting-history">Rewriting History<a class="anchor" aria-label="anchor" href="#rewriting-history"></a></h3>
<p>A very common and frustrating occurrence when using Git is making a
commit and then realising you forgot to stage something, or staged
something you shouldn’t have. Fortunately the Git commit history is not
set in stone and can be changed.</p>
<p>To undo the most recent commit you can use:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">git</span> reset <span class="at">--soft</span> HEAD^</span></code></pre>
</div>
<p>Follow this up with:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">git</span> log</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit 2bf7ece2f57594873678f9c17832010730970b28 (HEAD -&gt; main)
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Tue Dec 31 12:28:19 2019 +0000

    Added instruction to enjoy

commit ae3255af37e82a98c57f16a057acd1ad5a15ff28
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Tue Dec 31 12:27:14 2019 +0000

    Adding ingredients and instructions</code></pre>
</div>
<p>Notice we’ve gone from three commits to two. Let’s also run:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>On branch main
Changes to be committed:
  (use "git restore --staged &lt;file&gt;..." to unstage)
        modified:   ingredients.md
</code></pre>
</div>
<p>This shows that the content which was part of the commit has been
moved back into the staging area.</p>
<p>From here we can choose what to do. We could stage some additional
changes and create a new commit, or we could unstage ingredients.md and
do something else entirely. For now let’s just restore the commit we
removed by committing again:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Added 1/2 onion to ingredients"</span></span></code></pre>
</div>
<div id="changing-history-can-have-unexpected-consequences" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="changing-history-can-have-unexpected-consequences" class="callout-inner">
<h3 class="callout-title">Changing History Can Have Unexpected
Consequences</h3>
<div class="callout-content">
<p>Using <code>git reset</code> to remove a commit is only a good idea
if you have <strong>not shared</strong> it yet with other people. If you
make a commit and share it on GitHub or with a colleague by other means
then removing that commit from your Git history will cause
inconsistencies that may be difficult to resolve later. We only
recommend this approach for commits that are only in your local working
copy of a repository.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="reversing-a-commit">Reversing a Commit<a class="anchor" aria-label="anchor" href="#reversing-a-commit"></a></h3>
<p>Sometimes after making a commit we later (sometimes multiple commits
later) realise that it was misguided and should not have been included.
For instance, it’s a bit of cliché to tell people to “enjoy” at the end
of a recipe, so let’s get rid of it with:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">git</span> revert <span class="at">--no-edit</span> <span class="pp">[</span><span class="ss">commit</span><span class="pp">-</span><span class="ss">hash</span><span class="pp">]</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[main a70e1c5] Revert "Added instruction to enjoy"
 Date: Tue Dec 31 12:37:47 2019 +0000
 1 file changed, 1 deletion(-)</code></pre>
</div>
<p>Check the contents of <code>instructions.md</code> and you should see
that the enjoy instruction is gone. To fully understand what revert is
doing check out the repository history:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="fu">git</span> log</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>commit ddef60e05eae3cc73ea5be3f98df6ae372e43750 (HEAD -&gt; main)
Author: Christopher Cave-Ayland &lt;c.cave-ayland@imperial.ac.uk&gt;
Date:   Tue Dec 31 14:55:52 2019 +0000

    Revert "Added instruction to enjoy"

    This reverts commit 2bf7ece2f57594873678f9c17832010730970b28.

...</code></pre>
</div>
<p>Using <code>git revert</code> has added a new commit which reverses
the changes made in the specified commit.</p>
<p>This is a good example of why making separate commits for each change
is a good idea. If we had committed the changes to both
<code>ingredients.md</code> and <code>instructions.md</code> at once we
would not have been able to revert just the enjoy instruction.</p>
<div id="the-ultimate-guide-to-undoing-in-git" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="the-ultimate-guide-to-undoing-in-git" class="callout-inner">
<h3 class="callout-title">The Ultimate Guide to Undoing in Git</h3>
<div class="callout-content">
<p>It can be quite easy to get into a messy state in Git and it can be
difficult to get help via a search engine that covers your exact
situation. If you need help we recommend consulting <a href="https://sethrobertson.github.io/GitFixUm/fixup.html" class="external-link">“On undoing,
fixing, or removing commits in git”</a>. This page contains a very
comprehensive and readable guide to getting out of a sticky situation
with Git.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul><li>Setup Git with your details using
<code>git config --global user.name "FIRST_NAME LAST_NAME"</code> and
<code>git config --global user.email "email@example.com"</code>
</li>
<li>A Git repository is the record of the history of a project and can
be created with <code>git init</code>
</li>
<li>Git records changes to files as commits</li>
<li>Git must be explicitly told which changes to include as part of
commit (known as staging changes) with
<code>git stage [file]...</code>
</li>
<li>Staged changes can be stored in a commit with
<code>git commit -m "commit message"</code>
</li>
<li>You can check which files have been changed and/or staged with
<code>git status</code>
</li>
<li>You can see the full changes made to files with
<code>git diff</code> for unstaged files and
<code>git diff --staged</code>
</li>
<li>The commit history of a repository can be checked with
<code>git log</code>
</li>
<li>The command <code>git revert commit_ref</code> creates a new commit
which undoes the changes of the specified commit</li>
<li>The command <code>git reset --soft HEAD^</code> removes the previous
commit from the history</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="l1-01-why-use-vcs.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="l1-03-break.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="l1-01-why-use-vcs.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Why use a Version
        </a>
        <a class="chapter-link float-end" href="l1-03-break.html" rel="next">
          Next: Break...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/ImperialCollegeLondon/rse_introductory_git_course/edit/main/episodes/l1-02-committing-history.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/ImperialCollegeLondon/rse_introductory_git_course/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/ImperialCollegeLondon/rse_introductory_git_course/" class="external-link">Source</a></p>
        <p>
        <a href="citation.html">Cite</a>
        | <a href="mailto:rse-team@imperial.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
		</div>
		<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.18.5" class="external-link">sandpaper (0.18.5)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.9" class="external-link">varnish (1.0.9)</a></p>
		</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://imperialcollegelondon.github.io/rse_introductory_git_course/l1-02-committing-history.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Committing and History",
  "creativeWorkStatus": "active",
  "url": "https://imperialcollegelondon.github.io/rse_introductory_git_course/l1-02-committing-history.html",
  "identifier": "https://imperialcollegelondon.github.io/rse_introductory_git_course/l1-02-committing-history.html",
  "dateCreated": "2019-12-11",
  "dateModified": "2026-02-13",
  "datePublished": "2026-02-17"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

